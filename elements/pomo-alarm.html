<script>
  Polymer({
    is: 'pomo-alarm',
    properties: {
      time: {
        type: Number,
        value: 0
      },
      alarm: {
        type: Number,
        value: 0
      },
      intermitent: {
        type: Boolean,
        value: false
      }
    },

    observers: [
      'checkAlarm(time, alarm)'
    ],

    _alarmDispetched: false,

    checkAlarm: function(time, alarm) {
      if (this._alarmDispetched && !this.intermitent)
        return;

      if (time <= alarm) {
        this._alarmDispetched = true;
        this.fire('alarm', {time: time});
      }
    }
  });
</script>
